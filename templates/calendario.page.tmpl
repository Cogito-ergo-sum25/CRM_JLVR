{{template "base" .}}

{{define "content"}}
<div class="max-w-6xl mx-auto bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
    <div class="flex items-center justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-800 flex items-center">
            <span class="mr-2">üìÖ</span> Agenda y Cumplea√±os
        </h2>
        <div class="flex items-center text-xs space-x-4">
            <span class="flex items-center"><span class="w-3 h-3 bg-pink-500 rounded-full mr-1"></span> Cumplea√±os</span>
            <span class="flex items-center text-gray-400 font-italic italic">M√°s eventos pronto...</span>
        </div>
    </div>

    <div id='calendar' class="min-h-[600px]"></div>
</div>

<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'es', // Idioma espa√±ol
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek'
      },
      buttonText: {
        today:    'Hoy',
        month:    'Mes',
        week:     'Semana'
      },
      events: '/api/eventos-calendario', // Aqu√≠ pedir√° los datos a Go
      eventClick: function(info) {
        // Opcional: Al hacer clic, puedes redirigir al contacto
        // console.log(info.event.title);
      }
    });
    calendar.render();
  });
</script>

<style>
    /* Ajustes est√©ticos para que combine con Tailwind */
    .fc { --fc-border-color: #f3f4f6; --fc-today-bg-color: #f0f9ff; }
    .fc .fc-toolbar-title { font-size: 1.25rem; font-weight: 700; color: #1f2937; }
    .fc .fc-button-primary { background-color: #4f46e5; border: none; font-weight: 600; text-transform: capitalize; }
    .fc .fc-button-primary:hover { background-color: #4338ca; }
    .fc .fc-button-primary:disabled { background-color: #9ca3af; }
</style>
{{end}}