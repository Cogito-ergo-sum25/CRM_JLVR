{{template "base" .}}

{{define "content"}}
<div class="flex justify-between items-center mb-6">
    <h2 class="text-xl md:text-2xl font-bold text-gray-800">Expedientes Legales</h2>
    <a href="/nuevo-contacto" class="bg-indigo-600 text-white px-3 py-2 rounded-md hover:bg-indigo-700 transition text-sm md:text-base">
        + <span class="hidden md:inline">Nuevo Registro</span><span class="md:hidden">Nuevo</span>
    </a>
</div>

<div class="grid grid-cols-1 gap-4 md:hidden">
    {{range .Data.contactos}}
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-indigo-500">
        <div class="flex justify-between items-start mb-2">
            <span class="text-xs font-bold uppercase text-gray-400">Exp: {{.Expediente}}</span>
            <span class="px-2 py-1 text-xs font-semibold text-indigo-700 bg-indigo-100 rounded-full">
                {{.TipoRelacion}}
            </span>
        </div>
        <h3 class="font-bold text-gray-900">{{.Nombre}}</h3>
        <p class="text-sm text-gray-600">{{.Email}}</p>
        <div class="mt-3 pt-3 border-t border-gray-100 flex justify-between items-center">
            <span class="text-sm text-gray-700"><strong>Sede:</strong> {{.Juzgado}}</span>
            <button class="text-indigo-600 text-sm font-medium">Ver detalles</button>
        </div>
    </div>
    {{else}}
    <p class="text-center text-gray-500 italic">No hay expedientes registrados.</p>
    {{end}}
</div>

<div class="hidden md:block bg-white shadow-md rounded-lg overflow-hidden">
    <table class="min-w-full leading-normal">
        <thead>
            <tr class="bg-gray-800 text-white">
                <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider">Expediente</th>
                <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider">Nombre / Cliente</th>
                <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider">Relaci√≥n</th>
                <th class="px-5 py-3 text-left text-xs font-semibold uppercase tracking-wider">Juzgado</th>
            </tr>
        </thead>
        <tbody>
            {{range .Data.contactos}}
            <tr class="hover:bg-gray-50 transition">
                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                    <p class="font-bold text-indigo-600">{{.Expediente}}</p>
                </td>
                <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                    <a href="/expediente/{{.ID}}" class="text-indigo-600 hover:text-indigo-900 font-bold underline">
                        {{.Nombre}}
                    </a>
                    <p class="text-gray-500 text-xs">{{.Email}}</p>
                </td>
                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                    <span class="px-3 py-1 font-semibold text-indigo-900 bg-indigo-100 rounded-full text-xs">
                        {{.TipoRelacion}}
                    </span>
                </td>
                <td class="px-5 py-5 border-b border-gray-200 text-sm">
                    {{.Juzgado}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}